<html>
    <head>
        <title>Simple Leaflet Map</title>
        <meta charset="utf-8" />
        <meta http-equiv="refresh" content="15" />
        <link 
              rel="stylesheet" 
              href="http://cdn.leafletjs.com/leaflet-0.7/leaflet.css"
              />
    </head>
    <body>

        <div id="map" style="width: 600px; height: 400px"></div>

        <script
            src="http://cdn.leafletjs.com/leaflet-0.7/leaflet.js">
        </script>

        <script>

            var readings = {readings};

var map = L.map('map');//.setView([-41.3058, 174.82082], 8);
mapLink = 
    '<a href="http://openstreetmap.org">OpenStreetMap</a>';
var group = L.tileLayer(
    'http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '&copy; ' + mapLink + ' Contributors',
        maxZoom: 18,
    }).addTo(map);

markers = []
for (var i = 0; i < readings.length; i++) {
    markers.push(new L.marker([readings[i].lat_,readings[i].long])
        .bindPopup(readings[i].reading));
}
var group = new L.featureGroup(markers).addTo(map);
map.fitBounds(group.getBounds().pad(0.1));
        </script>
    </body>
</html>
